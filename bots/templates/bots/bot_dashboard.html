{% extends 'bots/sidebar.html' %}

{% block content %}
    <div class="container mt-4">          
        <h2>Welcome {{ request.user.email}}!</h2>      
        <div">
            <div class="card-body">
                <ol class="list-group list-group-flush">
                    <!-- Step 1: Credentials -->
                    <li class="list-group-item {% if quick_start.has_credentials %}text-decoration-line-through{% endif %} p-4 fs-5">
                        1. Fill out credentials
                        {% if not quick_start.has_credentials %}
                            <div class="mt-2">
                                <a href="{% url 'bots:bot-settings' bot.object_id %}" class="btn btn-sm btn-primary">
                                    Go to Settings
                                </a>
                            </div>
                        {% endif %}
                    </li>

                    <!-- Step 2: API Key -->
                    <li class="list-group-item {% if quick_start.has_api_keys %}text-decoration-line-through{% endif %} p-4 fs-5">
                        2. Create an API key
                        {% if not quick_start.has_api_keys %}
                            <div class="mt-2">
                                <a href="{% url 'bots:bot-api-keys' bot.object_id %}" class="btn btn-sm btn-primary">
                                    Go to API Keys
                                </a>
                            </div>
                        {% endif %}
                    </li>

                    <!-- Step 3: Call API -->
                    <li class="list-group-item {% if quick_start.has_completed_sessions %}text-decoration-line-through{% endif %} p-4 fs-5">
                        3. Call the API
                        {% if not quick_start.has_completed_sessions %}
                        
                            <div class="mt-2">
                                <small>Start session</small>
                                <pre class="bg-light p-1 m-1 rounded">
<code class="small">curl -X POST \
https://app.attendee.dev/api/v1/sessions \
-H 'Authorization: Token &lt;YOUR_API_KEY&gt;' \
-H 'Content-Type: application/json' \
-d '{"meeting_url": "https://us05web.zoom.us/j/xxxxxxx?pwd=xxxxxx"}'</code>
                                </pre>
                            </div>
                            <div class="mt-2">
                                <small>Retrieve transcript</small>
                                <pre class="bg-light p-1 m-1 rounded">
<code class="small">curl -X GET \
https://app.attendee.dev/api/v1/sessions/&lt;SESSION_ID&gt/transcript \
-H 'Authorization: Token &lt;YOUR_API_KEY&gt;' \
-H 'Content-Type: application/json'</code>
                                </pre>
                            </div>
                        {% endif %}
                    </li>
                </ol>
            </div>
        </div>
    </div>
{% endblock %} 